# Backend API Configuration
PORT=3002

# ============================================================================
# 数据库配置
# ============================================================================

# PostgreSQL 连接串（生产环境使用 Docker Compose 内部网络）
# 格式: postgresql+psycopg://user:password@host:port/database
# Docker Compose 部署时，数据库主机名使用 'db'（服务名）
DATABASE_URL=postgresql+psycopg://xpouch_admin:admin123@db:5432/xpouch_ai

# PostgreSQL 数据库配置（用于 Docker 部署）
POSTGRES_USER=xpouch_admin
POSTGRES_PASSWORD=your-secure-password-change-in-production
POSTGRES_DB=xpouch_ai

# SQLite 连接串（已废弃，仅用于本地开发调试）
# DATABASE_URL=sqlite:////app/data/database.db

# ============================================================================
# LLM 提供商 API Key 配置
# ============================================================================
# 说明：
# - 只在此文件配置 API Key（敏感信息）
# - 其他配置（base_url、模型名等）在 providers.yaml 中设置
# - 添加新提供商只需：1) 在 providers.yaml 添加配置 2) 在此添加 API Key
# - 配置优先级：MiniMax > DeepSeek > OpenAI > Anthropic > Google
#
# 支持的提供商（在 providers.yaml 配置）：
# - minimax: 响应快，推荐用于 Router 节点
# - deepseek: 性价比高，通用对话
# - openai: GPT 系列，代码和复杂任务
# - anthropic: Claude 系列，长文本和研究
# - google: Gemini 系列，多模态
# ============================================================================

# MiniMax 配置（推荐用于 Router，响应快）
MINIMAX_API_KEY=your-minimax-api-key

# DeepSeek 配置（推荐，性价比高）
DEEPSEEK_API_KEY=sk-your-deepseek-key-here

# OpenAI 配置（可选）
OPENAI_API_KEY=sk-your-openai-key-here

# Anthropic 配置（可选）
ANTHROPIC_API_KEY=sk-ant-your-key-here

# Google 配置（可选）
GOOGLE_API_KEY=your-google-api-key

# Moonshot / 月之暗面（Kimi 系列，长文本处理）
MOONSHOT_API_KEY=your-moonshot-api-key

# ============================================================================
# 工具 API Key 配置
# ============================================================================

# Tavily 联网搜索 API Key（解决模型知识滞后问题）
# 注册地址：https://tavily.com（免费版每月 1000 次查询）
# 功能：提供实时新闻、股价、天气、冷知识等搜索能力
# 注意：不配置则搜索工具不可用，但不影响其他功能
TAVILY_API_KEY=tvly-your-tavily-key-here

# ============================================================================
# 向量嵌入模型配置（用于长期记忆系统）
# ============================================================================

# 硅基流动 API Key（推荐使用，提供 BAAI/bge-m3 免费嵌入模型）
# 注册地址：https://siliconflow.cn
# 注意：模型配置在 providers.yaml 中管理，此处只需配置 API Key
SILICON_API_KEY=your-silicon-api-key

# ============================================================================
# LangSmith 追踪配置（可选）
# ============================================================================

# 启用 LangChain V2 追踪
LANGCHAIN_TRACING_V2=true

# LangSmith API 密钥（从 https://smith.langchain.com 获取）
LANGCHAIN_API_KEY=lsv2_pt_your-key-here

# LangSmith 项目名称
LANGCHAIN_PROJECT=xpouch-ai

# ============================================================================
# 认证配置
# ============================================================================

# JWT密钥（生产环境请使用强密钥，可通过以下命令生成：python -c "import secrets; print(secrets.token_urlsafe(32))")
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production

# Access token有效期（天）
ACCESS_TOKEN_EXPIRE_DAYS=30

# Refresh token有效期（天）
REFRESH_TOKEN_EXPIRE_DAYS=60

# ============================================================================
# 腾讯云短信服务配置
# ============================================================================

# 从腾讯云控制台获取：https://console.cloud.tencent.com/smsv2
# 短信签名需审核，模板需审核
TENCENT_CLOUD_SECRET_ID=your-tencent-cloud-secret-id
TENCENT_CLOUD_SECRET_KEY=your-tencent-cloud-secret-key
SMS_SDK_APP_ID=1400000000  # 应用ID
SMS_SIGN_NAME=您的签名
SMS_TEMPLATE_ID=123456  # 模板ID
SMS_REGION=ap-guangzhou  # 地域（默认广州）

# ============================================================================
# CORS 配置
# ============================================================================

# 允许的跨域来源，多个域名用逗号分隔
# 开发环境：http://localhost:5173
# 生产环境：https://your-domain.com
CORS_ORIGINS=http://localhost:5173

# 运行环境：development 或 production
ENVIRONMENT=development

# ============================================================================
# 说明
# ============================================================================

# 1. 复制此文件为 .env
# 2. 填写至少一个 LLM API Key
# 3. 如需记忆系统功能，配置 SILICON_API_KEY
# 4. 根据需要配置 LangSmith 追踪
# 5. .env 文件已在 .gitignore 中，不会被提交到代码仓库
